# AI Gaming Agent ü§ñ + üéÆ

The project aims to apply a comprehensive AI gaming agent framework built on top of **smolagents** to create intelligent agents capable of playing and mastering various types of games, from simple board games to complex universal gaming environments.

## Technology Stack

- [SmolAgents](https://github.com/huggingface/smolagents): A lightweight framework for building AI agents.
- [Cradle](https://github.com/BAAI-Agents/Cradle): A framework which attempts at General Computer Control (GCC).

## Environment Installation

It is suggested to use a remote virtual environment for environment configurations to prevent from directly executing the Python code generated by the AI agent locally. For details please take reference to [SmolAgent Documentation](https://huggingface.co/docs/smolagents/index).

1. Please install a virtual environment.

   ```
   python3 -m venv .venv # Name it as .venv
   source .venv/bin/activate # Activate .venv
   ```

2. Install necessary libraries.

   ```
   pip install -r requirements.txt
   ```

3. Create a `.env` file for storing api key
   ```
   echo 'OPENAI_API_KEY=your-api-key-here' > .env
   ```

## Agent Architecture

The architecture is reference from [Cradle](https://github.com/BAAI-Agents/Cradle).

```mermaid
---
config:
  layout: dagre
---
flowchart TB
 subgraph s1["**Data Flow**"]
        A["Screen Input"]
        B["Information<br>Gathering"]
        H["UI Automation"]
        I["Keyboard | Mouse<br>Output"]
        J["Computer Environment"]
  end
 subgraph s2["**Agent Modules**"]
        C["Memory"]
        D["Self-Reflection"]
        E["Task Inference"]
        F["Skill Curation"]
        G["Action Planning"]
  end
    A --> B
    B --> C
    C --> D & E
    D --> C
    E --> F
    F --> G
    G --> H
    H --> I
    I --> J
    J --> A
    style s1 fill:#FFE0B2
    style s2 fill:#C8E6C9
```

## Code Structure

```mermaid
---
config:
  layout: dagre
---
flowchart TB
    subgraph Input["Data Input"]
        A[Screen Capture]
        B[Info Gathering<br/>Vision LLM]
        B2[Object Detector<br/>placeholder]
    end

    subgraph Memory["Memory System"]
        C1[Short-term Memory<br/>short_term.py<br/>short_term_state.json]
        C2[Long-term Skills<br/>long_term.py<br/>skills.json]
        C3[Skill Retrieval<br/>skill_retrieval.py<br/>skill_embeddings.npy]
    end

    subgraph Reasoning["Agent Modules"]
        D[Self-Reflection<br/>reflector.py<br/>LLM judges success/failure]
        E[Task Inference<br/>task_breaker.py<br/>Decompose to subtasks]
        F[Skill Curation<br/>skill_manager.py<br/>Extract and save skills]
        G[Action Planning<br/>planner.py<br/>CodeAgent + Tools + Skills]
    end

    subgraph Output["Execution"]
        H1[Atomic Actions<br/>atomic_actions.py<br/>Low-level primitives]
        H2[Tools<br/>tools.py<br/>Validated @tool wrappers]
        I[Environment]
    end

    A -->|screenshot| B
    B2 -.->|annotate| B
    B -->|observation| C1

    C1 -->|state| D
    C1 -->|task| E

    E -->|subtasks| C1
    E -->|current subtask| G

    G -->|query subtask| C3
    C3 -->|vector search| C2
    C2 -->|top-3 skill codes| G

    D -->|before/after obs| B
    D -->|if failed| E
    D -->|if success pattern| F

    F -->|save new skill| C2
    F -->|update vectors| C3

    G -->|CodeAgent calls| H2
    H2 -->|calls| H1
    H1 -->|execute| I
    I -->|screen changes| A

    style Input fill:#FFE0B2
    style Memory fill:#B3E5FC
    style Reasoning fill:#C8E6C9
    style Output fill:#F8BBD0
```

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Acknowledgments

- **Hugging Face** for the amazing smolagents framework

## Log

- \*\*Comments: Èò≤Ê≠¢ noise?
  Èï∑ÊúüË®òÊÜ∂ÔºöÈÅäÊà≤Á∂ìÈ©ó„ÄÅÊ¢ù‰ª∂ÂèçÂ∞ÑÔºü
